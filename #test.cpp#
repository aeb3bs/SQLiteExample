#include <stdio.h>
#include "sqlite3.h"
#include <iostream>
#include <string.h>
using namespace std;
//This function updates a character's stamina to a specified value
void update(sqlite3* db)
{
  string id;
  string stamina;
  cout << "What is the id of the character you wish to update?" << endl;
  std::cin >> id;
  cout << "What is the amount of stamina you would like to set this character to?" << endl;
  std::cin >> stamina;
  const char* sql_const = "UPDATE `characters` SET `stamina` = '";
  int size = strlen(sql_const);
  char sql[size];
  strcpy(sql, sql_const);
  strcat(sql, stamina.c_str());
  strcat(sql, "'");
  strcat(sql, " WHERE `id` = '");
  strcat(sql, id.c_str());
  strcat(sql, "'");
  cout << sql << endl;
  sqlite3_exec(db, sql, NULL, NULL, NULL);
}


//This function creates a new character
void create(sqlite3* db)
{ 
  const char* sql = "INSERT INTO `characters` VALUES ('4', '300' , '500', '1')";
  cout << sql << endl;
  sqlite3_exec(db, sql, NULL, NULL, NULL);
}

void getid1(sqlite3* db)
{
  
}

/*
//This function deletes a character given an id
void delete(int x)
{
}
*/

//This function
//INSERT, DELETE, UPDATE
int main()
{
  std::cout << "Hello!" << std::endl;

  sqlite3 *db;
  const char* filename = "test.db";
  int rc = sqlite3_open(filename, &db);
  if(rc)
    {
      cout << "Could not open database." << endl;
      return -1;
    }
  //update(db);
  create(db);
  sqlite3_close(db);
  return 0;
}
